<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>

        <link rel="stylesheet" href="./sidebar.css" />
    </head>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            /*
Inspired from: https://tympanus.net/codrops/2013/08/28/transitions-for-off-canvas-navigations/

there are still some quirks for animation 3, 6, 7, 8 & 14
as they do not animate back gracefully
(those are the navs in the div with class st-pusher)
*/

            var click = document.querySelectorAll('div button');
            var menu = document.querySelector('#st-container');
            var pusher = document.querySelector('.st-pusher');
            // to store the corresponding effect
            var effect;

            // adding a click event to all the buttons
            for (var i = 0; i < click.length; i++) {
                click[i].addEventListener('click', addClass);
            }

            pusher.addEventListener('click', closeMenu);

            function addClass(e) {
                // to get the correct effect
                effect = e.target.getAttribute('data-effect');
                // adding the effects
                menu.classList.toggle(effect);
                menu.classList.toggle('st-menu-open');

                // console.log(e.target.getAttribute('data-effect'));
            }

            function closeMenu(el) {
                // if the click target has this class then we close the menu by removing all the classes
                if (el.target.classList.contains('st-pusher')) {
                    menu.classList.toggle(effect);
                    menu.classList.toggle('st-menu-open');
                    // console.log(el.target);
                }
            }
        });
    </script>
    <body>
        <div id="st-container" class="st-container">
            <nav class="st-menu st-effect-1" id="menu-1">
                <h2 class="icon icon-lab">Sidebar</h2>
                <ul>
                    <li><a class="icon icon-data" href="#">Data Management</a></li>
                    <li><a class="icon icon-location" href="#">Location</a></li>
                    <li><a class="icon icon-study" href="#">Study</a></li>
                    <li><a class="icon icon-photo" href="#">Collections</a></li>
                    <li><a class="icon icon-wallet" href="#">Credits</a></li>
                </ul>
            </nav>

            <div class="st-content">
                <!-- this is the wrapper for the content -->
                <div class="st-content-inner">
                    <!-- extra div for emulating position:fixed of the menu -->
                    <!-- Top Navigation -->
                    <header class="codrops-header">
                        <h1>Sidebar Transitions <span>Transition effects for off-canvas views</span></h1>
                    </header>
                    <div class="main clearfix">
                        <div id="st-trigger-effects" class="column">
                            <button data-effect="st-effect-1">Slide in on top</button>
                            <button data-effect="st-effect-2">Reveal</button>
                            <button data-effect="st-effect-3">Push</button>
                            <button data-effect="st-effect-4">Slide along</button>
                            <button data-effect="st-effect-5">Reverse slide out</button>
                            <button data-effect="st-effect-6">Rotate pusher</button>
                            <button data-effect="st-effect-7">3D rotate in</button>
                            <button data-effect="st-effect-8">3D rotate out</button>
                            <button data-effect="st-effect-9">Scale down pusher</button>
                            <button data-effect="st-effect-10">Scale Up</button>
                            <button data-effect="st-effect-11">Scale &amp; rotate pusher</button>
                            <button data-effect="st-effect-12">Open door</button>
                            <button data-effect="st-effect-13">Fall down</button>
                            <button data-effect="st-effect-14">Delayed 3D Rotate</button>
                        </div>
                        <div class="column">
                            <p>Sidebar menus or off-canvas navigations can be revealed in many creative ways.</p>
                            <p>Here is some inspiration for showing them in style using CSS transitions.</p>
                        </div>
                    </div>
                    <!-- /main -->
                </div>
                <!-- /st-content-inner -->
            </div>
            <!-- /st-content -->
        </div>
    </body>
</html>
